%-------------------------------------
% CV Style File
% Author : Leslie Cheng (Modified)
% License : MIT
%-------------------------------------

\ProvidesPackage{cv-style}

\usepackage[empty]{fullpage}
\usepackage{enumitem}
\usepackage{ifxetex}
\ifxetex
  \usepackage{fontspec}
  \usepackage[xetex]{hyperref}
\else
  \usepackage[utf8]{inputenc}
  \usepackage[T1]{fontenc}
  \usepackage[pdftex]{hyperref}
\fi
\usepackage{fontawesome5}
\usepackage[sfdefault,light]{FiraSans}
\usepackage{anyfontsize}
\usepackage{xcolor}
\usepackage{tabularx}
\usepackage{paracol}
\usepackage{tikz}
\usepackage{everypage}

%-------------------------------------------------- SETTINGS --------------------------------------------------
% Header settings
\def \fullname {John Doe}
\def \subtitle {}

\def \linkedinicon {\faLinkedin}
\def \linkedinlink {https://linkedin.com/in/johndoe/}
\def \linkedintext {/johndoe}

\def \phoneicon {\faPhone*}
\def \phonetext {+1 555 123 4567}

\def \emailicon {\faEnvelope}
\def \emaillink {mailto:john.doe@email.com}
\def \emailtext {john.doe@email.com}

\def \githubicon {\faGithub}
\def \githublink {https://github.com/johndoe}
\def \githubtext {/johndoe}

% Misc settings
\def \entryspacing {-0pt}
\def \bulletstyle {\faAngleRight}

% Define colours
\definecolor{primary}{HTML}{000000}
\definecolor{secondary}{HTML}{0D47A1}
\definecolor{accent}{HTML}{263238}
\definecolor{links}{HTML}{1565C0}
\definecolor{sidebarBg}{HTML}{F5F5F5}

%-------------------------------------------------- LAYOUT --------------------------------------------------

% Defines to make listing easier
\def \linkedin {\linkedinicon \hspace{3pt}\href{\linkedinlink}{\linkedintext}}
\def \phone {\phoneicon \hspace{3pt}{ \phonetext}}
\def \email {\emailicon \hspace{3pt}\href{\emaillink}{\emailtext}}
\def \github {\githubicon \hspace{3pt}\href{\githublink}{\githubtext}}

% Adjust margins
\addtolength{\oddsidemargin}{-0.55in}
\addtolength{\evensidemargin}{-0.55in}
\addtolength{\textwidth}{1.1in}
\addtolength{\topmargin}{-0.6in}
\addtolength{\textheight}{1.1in}

% Define the link colours
\hypersetup{
    colorlinks=true,
    urlcolor=links,
}

% Set the margin alignment
\raggedbottom
\raggedright
\setlength{\tabcolsep}{0in}

%-------------------------------------------------- CUSTOM COMMANDS --------------------------------------------------

% Sidebar section
\newcommand{\sidebarSection}[1]{
  \vspace{10pt}
  {\color{secondary}\large\textbf{#1}}
  \vspace{5pt}
  \color{primary}
}

% Main section
\newcommand{\mainSection}[2]{\vspace{10pt}
  \hspace{2.5mm}{\color{secondary}\large\textbf{#1\ #2}}
  \vspace{5pt}
  \color{primary}
}

% Entry start and end
\newcommand{\resumeEntryStart}{\begin{itemize}[leftmargin=2.5mm]}
\newcommand{\resumeEntryEnd}{\end{itemize}\vspace{\entryspacing}}

% Itemized list
\newcommand{\resumeItemListStart}{\begin{itemize}[leftmargin=4.5mm]}
\newcommand{\resumeItemListEnd}{\end{itemize}}

% Resume item
\renewcommand{\labelitemii}{\bulletstyle}
\newcommand{\resumeItem}[1]{
  \item\small{
    {#1 \vspace{-2pt}}
  }
}

% Entry with title, subheading, date(s), and location
\newcommand{\resumeEntryTSDL}[4]{
  \vspace{-1pt}\item[]
    \begin{tabularx}{\linewidth}{X@{\hspace{10pt}}r}
      \textbf{\color{primary}#1} & {\firabook\color{accent}\small#2} \\
      \textit{\color{accent}\small#3} & \textit{\color{accent}\small#4} \\
    \end{tabularx}\vspace{-6pt}
}

% Entry with title and date(s)
\newcommand{\resumeEntryTD}[2]{
  \vspace{-1pt}\item[]
    \begin{tabularx}{\linewidth}{X@{\hspace{10pt}}r}
      \textbf{\color{primary}#1} & {\firabook\color{accent}\small#2} \\
    \end{tabularx}\vspace{-6pt}
}

% Simple entry
\newcommand{\simpleEntry}[3]{
  \resumeEntryStart
    \resumeEntryTD{#1}{#2}
    \resumeItemListStart
      \resumeItem{#3}
    \resumeItemListEnd
  \resumeEntryEnd
}

% Entry with custom content
\newcommand{\entry}[3]{
  \resumeEntryStart
    \resumeEntryTD{#1}{#2}
    \resumeItemListStart
      #3
    \resumeItemListEnd
  \resumeEntryEnd
}

% Skills entry
\newcommand{\resumeEntryS}[2]{
  \item[]\small{
    \textbf{\color{primary}#1 }{ #2 \vspace{-6pt}}
  }
}

% Sidebar item
\newcommand{\sidebarItem}[2]{
  \small{\textbf{#1}} \\
  \small{#2} \\
  \vspace{5pt}
}

%-------------------------------------------------- SIDEBAR SETUP --------------------------------------------------

\newlength{\sidebarwidth}
\setlength{\sidebarwidth}{0.2917\textwidth}

\AddEverypageHook{%
\begin{tikzpicture}[remember picture,overlay]
\fill[sidebarBg] (current page.north west) rectangle ([xshift=\sidebarwidth+0.52in]current page.south west);
\end{tikzpicture}
}

\setlength{\columnsep}{0.5cm}
\columnratio{0.2917}

\endinput
